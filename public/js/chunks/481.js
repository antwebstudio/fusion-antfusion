"use strict";(self.webpackChunktinymcefieldtype=self.webpackChunktinymcefieldtype||[]).push([[481],{481:(t,n,o)=>{o.r(n),o.d(n,{default:()=>i});const e={props:{confirmButtonLabel:{default:"Confirm"},cancelButtonLabel:{default:"Cancel"},title:{},resourceId:{},resourceHandle:{},actionHandle:{},confirmationTitle:{},confirmation:{},to:{},text:{}},data:function(){return{loading:!1}},computed:{needConfirmation:function(){return this.confirmation},modalName:function(){return"action-link-confirmation-"+this._uid}},methods:{toggle:function(){this.$parent&&this.$parent.toggle&&this.$parent.toggle()},askConfirmation:function(){this.openModal(this.modalName)},confirm:function(){var t=this;this.loading=!0,axios.post("/api/antfusion/resource/".concat(this.resourceHandle,"/").concat(this.resourceId,"/action/").concat(this.actionHandle)).then((function(n){t.loading=!1,toast(n.data.message,"success"),t.closeModal(t.modalName),t.$emit("updated")})).catch((function(n){t.loading=!1,toast(n.response.data.message,"error")}))},closeModal:function(t,n){this.$bus.$emit("toggle-modal-"+t,n)},openModal:function(t,n){this.$bus.$emit("toggle-modal-"+t,n)}}};const i=(0,o(1900).Z)(e,(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",[t.needConfirmation?o("ui-dropdown-link",t._b({on:{click:function(n){return n.preventDefault(),t.askConfirmation.apply(null,arguments)}}},"ui-dropdown-link",t.$props,!1),[t._v("\n        "+t._s(t.text)+"\n    ")]):o("ui-dropdown-link",t._b({},"ui-dropdown-link",t.$props,!1),[t._v("\n        "+t._s(t.text)+"\n    ")]),t._v(" "),t.needConfirmation?o("portal",{attrs:{to:"modals"}},[o("ui-modal",{key:t.modalName,attrs:{name:t.modalName,title:t.confirmationTitle},scopedSlots:t._u([{key:"footer",fn:function(n){return[o("ui-button",{staticClass:"ml-3",attrs:{disabled:t.loading,variant:"danger"},on:{click:function(n){return t.confirm()}}},[t._v(t._s(t.confirmButtonLabel))]),t._v(" "),o("ui-button",{attrs:{disabled:t.loading,variant:"secondary"},on:{click:function(n){return t.closeModal(t.modalName)}}},[t._v(t._s(t.cancelButtonLabel))])]}}],null,!1,4192943177)},[o("p",[t._v(t._s(t.confirmation))])])],1):t._e()],1)}),[],!1,null,null,null).exports},1900:(t,n,o)=>{function e(t,n,o,e,i,a,r,s){var l,c="function"==typeof t?t.options:t;if(n&&(c.render=n,c.staticRenderFns=o,c._compiled=!0),e&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,n){return l.call(n),d(t,n)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}o.d(n,{Z:()=>e})}}]);